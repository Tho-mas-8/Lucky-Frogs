/* ========== Theme ========== */
:root{
  --bg: #0b0f1a;
  --panel: #0f1629;
  --text: #e6f1ff;
  --muted: #9fb0c3;
  --neon: #00ff9c;
  --neon2: #8a2be2;
  --win: #ffee58;
  --danger: #ff5370;
}

*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, 'Helvetica Neue', Arial, 'Apple Color Emoji','Segoe UI Emoji';
  color:var(--text);
  background: radial-gradient(1200px 800px at 20% -10%, #14213a 0%, var(--bg) 55%) fixed;
  overflow-x:hidden;
}

.container{
  max-width: 980px;
  margin: 0 auto;
  padding: 16px;
  position: relative;
  z-index: 1;
}

.header h1{
  margin: 8px 0 2px;
  font-weight: 800;
  letter-spacing: 0.5px;
  text-shadow: 0 0 10px color-mix(in srgb, var(--neon) 60%, transparent);
}
.header h1 span{
  font-weight: 400;
  font-size: 0.75em;
  color: var(--muted);
  margin-left: 6px;
}
.status{
  display:flex;
  gap:16px;
  align-items:center;
  color:var(--muted);
}

.controls{
  display:flex;
  justify-content: space-between;
  align-items:center;
  flex-wrap: wrap;
  gap: 10px;
  margin: 10px 0 16px;
  padding: 10px;
  background: color-mix(in srgb, var(--panel) 90%, #000 10%);
  border: 1px solid color-mix(in srgb, var(--panel) 40%, var(--neon2) 10%);
  border-radius: 16px;
  box-shadow: 0 0 30px 0 color-mix(in srgb, var(--neon2) 25%, transparent);
}

.bank, .actions{
  display:flex;
  gap:8px;
  align-items:center;
}

.btn{
  appearance:none;
  border:none;
  border-radius: 999px;
  padding: 10px 16px;
  font-weight: 700;
  cursor:pointer;
  transition: transform .06s ease, box-shadow .2s ease, background .2s ease;
  background:#1c2744;
  color:var(--text);
  border:1px solid #263153;
}
.btn:hover{ transform: translateY(-1px); }
.btn:active{ transform: translateY(0); }
.btn.primary{
  background: linear-gradient(180deg, #1f2a4f 0%, #27355f 100%);
  border-color: color-mix(in srgb, var(--neon) 30%, #263153);
  box-shadow: 0 0 18px 0 color-mix(in srgb, var(--neon) 35%, transparent);
}
.btn.neon{
  background: linear-gradient(180deg, color-mix(in srgb, var(--neon) 18%, #1b2a3f) 0%, #1b2a3f 100%);
  border-color: color-mix(in srgb, var(--neon) 50%, #263153 50%);
  box-shadow: 0 0 18px 0 color-mix(in srgb, var(--neon) 40%, transparent);
  color:#0b1d16;
  text-shadow: 0 0 8px color-mix(in srgb, white 30%, transparent);
}
.btn.ghost{
  background:#0f1a30;
  color:var(--muted);
}

input, select{
  background:#0f1a30;
  color: var(--text);
  border:1px solid #2a355a;
  border-radius: 10px;
  padding:8px 10px;
  min-width: 80px;
}

/* Toggle */
.toggle{
  display:inline-flex;
  align-items:center;
  gap:6px;
  padding: 6px 10px;
  border-radius: 999px;
  border:1px solid #2a355a;
  background:#0f1a30;
}
.toggle input{
  width: 18px;
  height: 18px;
}

/* ========== Machine ========== */
.machine{
  background: linear-gradient(180deg, color-mix(in srgb, var(--panel) 95%, #000) 0%, #0b1124 80%);
  border: 2px solid color-mix(in srgb, var(--neon2) 30%, #263153 70%);
  border-radius: 24px;
  padding: 16px;
  box-shadow: 0 0 40px 0 color-mix(in srgb, var(--neon) 20%, transparent), inset 0 0 30px 0 rgba(0,0,0,.35);
}

.viewport{
  position:relative;
  display:grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 10px;
  padding: 14px;
  border-radius: 16px;
  border: 1px solid #2a355a;
  background: radial-gradient(800px 300px at 50% -40%, rgba(255,255,255,.06), rgba(255,255,255,0));
  box-shadow: inset 0 0 12px 0 rgba(0,0,0,.35);
}

.reel{
  background: linear-gradient(180deg, #0d1326, #0b1020);
  border:1px solid #2a355a;
  border-radius: 14px;
  padding: 8px;
  display:grid;
  grid-template-rows: repeat(3, 84px);
  gap:6px;
  overflow:hidden;
  position:relative;
}
.reel:after{
  /* subtle glow at the edges */
  content:"";
  position:absolute; inset:0;
  box-shadow: inset 0 0 14px rgba(0,0,0,.5);
  pointer-events:none;
}
.cell{
  display:grid;
  place-items:center;
  font-size: 48px;
  background: linear-gradient(180deg, #121b33, #0b1224);
  border:1px solid #2a355a;
  border-radius: 10px;
  user-select:none;
}
.cell.center{
  border-color: color-mix(in srgb, var(--neon) 45%, #2a355a);
  box-shadow: 0 0 12px 0 color-mix(in srgb, var(--neon) 35%, transparent);
}
.cell img{
  max-width: 70%;
  max-height: 70%;
  object-fit: contain;
  filter: drop-shadow(0 0 6px rgba(0,0,0,.5));
}
.cell img.skull{ max-width: 50%; max-height: 50%; object-fit: contain; }
/* keep emoji same size */
.cell .emoji{
  max-width: 70%;
  max-height: 70%;
  object-fit: contain;
  filter: drop-shadow(0 0 6px rgba(0,0,0,.5));
}
.cell .emoji{
  filter: drop-shadow(0 0 6px rgba(0,0,0,.5));
}

.reel.spinning .cell{
  filter: blur(1px) brightness(0.95);
  animation: flicker .2s linear infinite;
}
@keyframes flicker{
  from{ opacity: .85; } to{ opacity: 1; }
}

.reel.win .cell.center{
  animation: winGlow 1.2s ease-in-out 0s 3 alternate;
  border-color: var(--win);
  box-shadow: 0 0 22px 0 color-mix(in srgb, var(--win) 75%, transparent);
}
@keyframes winGlow{
  0%{ transform: scale(1); }
  100%{ transform: scale(1.04); }
}

.message{
  margin-top: 12px;
  min-height: 24px;
  color: var(--muted);
}

/* ========== Panels ========== */
.panels{
  margin-top: 14px;
  display:grid;
  gap: 12px;
}
details{
  background: #0d152b;
  border: 1px solid #263153;
  border-radius: 16px;
  padding: 10px 14px;
}
details > summary {
  cursor: pointer;
  list-style: none;
  font-weight: 700;
  margin: 6px 0;
}
details[open] > summary { margin-bottom: 10px; }
.payout{
  display:grid;
  gap: 8px;
}
.payout .row{
  display:grid;
  grid-template-columns: 1.2fr 1fr 1fr 1fr;
  gap:8px;
  align-items:center;
  padding: 8px 10px;
  background: #0b1224;
  border:1px solid #253055;
  border-radius: 12px;
}
.payout .row.header{
  background: transparent;
  border: none;
  color: var(--muted);
  font-weight: 700;
}
.payout .badge{
  padding: 3px 8px;
  border-radius: 999px;
  border:1px solid #3f2a61;
  background: color-mix(in srgb, var(--neon2) 18%, #0f1a30);
  font-size: 12px;
}
.payout .sym{
  display:flex; align-items:center; gap:8px;
}
.payout .sym img{ width: 28px; height: 28px; object-fit: contain; }
.payout .sym .emoji{ font-size: 28px; }

.symbol-manager .grid{
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 10px;
}
.symbol-list{
  margin-top: 12px;
  display:grid; gap: 8px;
}
.symbol-item{
  display:flex; justify-content:space-between; align-items:center;
  background:#0b1224; border:1px solid #253055; border-radius:12px;
  padding:8px 10px;
}
.symbol-item .left{ display:flex; gap:10px; align-items:center; }
.symbol-item img{ width: 28px; height: 28px; object-fit:contain; }
.symbol-item .emoji{ font-size: 28px; }

.footer{ margin: 16px 0 24px; color: var(--muted); text-align:center; }

/* ========== Background Particles ========== */
#bg{
  position: fixed;
  inset: 0;
  z-index: 0;
  overflow: hidden;
  pointer-events: none;
}
.particle{
  position: absolute;
  font-size: 18px;
  opacity: .85;
  animation: floatUp linear infinite;
  text-shadow: 0 0 10px rgba(255,215,0,.55), 0 0 18px rgba(0,255,120,.15);
}
.particle.star{ color: #ffd700; }
.particle.frog{ color: #77ff77; filter: drop-shadow(0 0 6px #00ff88aa); }
@keyframes floatUp{
  from{ transform: translateY(0) translateX(0) rotate(0deg); opacity:.0; }
  10%{ opacity:.8; }
  to{ transform: translateY(-120vh) translateX(var(--drift, 0px)) rotate(360deg); opacity:0; }
}

/* ========== Responsive ========== */
@media (max-width: 720px){
  .viewport{ gap: 8px; padding: 10px; }
  .reel{ grid-template-rows: repeat(3, 72px); }
  .cell{ font-size: 40px; }
  .header h1{ font-size: 1.5rem; }
  .payout .row{ grid-template-columns: 1.2fr .8fr .8fr .8fr; }
}
